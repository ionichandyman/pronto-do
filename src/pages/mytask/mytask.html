<!--
  Generated template for the MytaskPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>My Tasks</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-list no-lines>
        <ion-item *ngFor="let proj of userTasks">
          <ion-card *ngIf="proj.type!='logentry'" class="ion-card" >
              <ion-card-header>
                  {{proj.projectName}}
                </ion-card-header>
            <ion-card-header>
              {{proj.projectNotes}}
            </ion-card-header>
            <ion-card-content>
              <b>Details :</b><br>
              <ion-item text-wrap>
                {{proj.messages}} <br>
             </ion-item>
              <b>Assigned to</b> : <br>
              {{proj.taskOwner}}<br>
              <b>Reported by</b> : <br>
              {{proj.createdBy}}
              <br>
              <b>Status : </b> <br>
              <span *ngIf="proj.status=='R'">REJECTED</span>
              <span *ngIf="proj.status=='P'">OPEN</span>
              <span *ngIf="proj.status=='C'">COMPLETE</span>
             
            </ion-card-content>
            <ion-row>
              <ion-col>
                  <button ion-button color="danger" (click)="rejectTask(proj.key)" small>REJECT</button>
              </ion-col>
              <ion-col>
                  <button *ngIf="proj.status!='P'"  ion-button color="default" (click)="reOpen(proj.key)" small>Re-Open</button>
                  <button *ngIf="proj.status=='P'" ion-button color="secondary" (click)="completeTask(proj.key)" small>Complete</button>
              </ion-col>
            </ion-row>
          </ion-card>
        </ion-item>
    </ion-list>
</ion-content>
